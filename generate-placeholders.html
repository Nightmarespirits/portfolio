<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generate Project Placeholders</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
            color: #333;
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
        }
        .controls {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
        }
        input[type="text"], textarea {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }
        textarea {
            min-height: 100px;
            resize: vertical;
        }
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #2980b9;
        }
        .preview {
            margin-top: 30px;
            text-align: center;
        }
        .preview h2 {
            color: #2c3e50;
            margin-bottom: 15px;
        }
        .preview-container {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            margin-bottom: 20px;
        }
        canvas {
            max-width: 100%;
            height: auto;
            border: 1px solid #eee;
            border-radius: 4px;
        }
        .download-btn {
            display: inline-block;
            margin-top: 15px;
            text-decoration: none;
            background-color: #2ecc71;
            color: white;
            padding: 10px 20px;
            border-radius: 4px;
            transition: background-color 0.3s;
        }
        .download-btn:hover {
            background-color: #27ae60;
        }
        .project-list {
            margin-top: 30px;
        }
        .project-list h2 {
            color: #2c3e50;
            margin-bottom: 15px;
        }
        .project-item {
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .project-info h3 {
            margin: 0 0 5px 0;
            color: #2c3e50;
        }
        .project-info p {
            margin: 0;
            color: #7f8c8d;
            font-size: 14px;
        }
        .project-actions a {
            margin-left: 10px;
            text-decoration: none;
            color: #3498db;
            font-size: 14px;
        }
        .project-actions a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <h1>Project Placeholder Generator</h1>
    
    <div class="controls">
        <div class="form-group">
            <label for="projectName">Project Name</label>
            <input type="text" id="projectName" placeholder="Enter project name">
        </div>
        
        <div class="form-group">
            <label for="projectTech">Technologies (comma separated)</label>
            <input type="text" id="projectTech" placeholder="e.g., React, Node.js, MongoDB">
        </div>
        
        <div class="form-group">
            <label for="projectDesc">Description (optional)</label>
            <textarea id="projectDesc" placeholder="Brief description of the project"></textarea>
        </div>
        
        <div class="form-group">
            <label for="bgColor">Background Color</label>
            <input type="text" id="bgColor" value="#3498db" placeholder="e.g., #3498db or 'blue'">
        </div>
        
        <div class="form-group">
            <label for="textColor">Text Color</label>
            <input type="text" id="textColor" value="#ffffff" placeholder="e.g., #ffffff or 'white'">
        </div>
        
        <button id="generateBtn">Generate Placeholder</button>
    </div>
    
    <div class="preview">
        <h2>Preview</h2>
        <div class="preview-container">
            <canvas id="previewCanvas" width="800" height="450"></canvas>
        </div>
        <a id="downloadBtn" class="download-btn" download="project-placeholder.png">Download Image</a>
    </div>
    
    <div class="project-list">
        <h2>Project Placeholders to Generate</h2>
        <div id="projectsList">
            <!-- Projects will be listed here -->
        </div>
    </div>
    
    <script>
        // Project data from projects.json
        const projects = [
            { id: 'portfolio-site', title: 'Personal Portfolio Website', tags: ['HTML5', 'CSS3', 'JavaScript'] },
            { id: 'ecommerce-dashboard', title: 'E-commerce Analytics Dashboard', tags: ['React', 'Node.js', 'MongoDB'] },
            { id: 'task-manager', title: 'Task Management App', tags: ['Vue.js', 'Firebase', 'PWA'] },
            { id: 'recipe-finder', title: 'Recipe Finder App', tags: ['React', 'Redux', 'API'] },
            { id: 'weather-app', title: 'Weather Forecast App', tags: ['JavaScript', 'API', 'CSS'] },
            { id: 'fitness-tracker', title: 'Fitness Tracker', tags: ['React Native', 'Firebase'] },
            { id: 'blog-platform', title: 'Headless Blog Platform', tags: ['Next.js', 'Node.js', 'MongoDB'] },
            { id: 'ai-chatbot', title: 'AI Chatbot', tags: ['Python', 'TensorFlow', 'NLP'] },
            { id: 'expense-tracker', title: 'Expense Tracker', tags: ['Vue.js', 'Firebase'] },
            { id: 'restaurant-website', title: 'Restaurant Website', tags: ['WordPress', 'WooCommerce'] },
            { id: 'social-media-dashboard', title: 'Social Media Dashboard', tags: ['React', 'Node.js', 'MongoDB'] },
            { id: 'job-board', title: 'Job Board Platform', tags: ['Ruby on Rails', 'PostgreSQL'] }
        ];
        
        // Color palette for project placeholders
        const colorPalette = [
            { bg: '#3498db', text: '#ffffff' },  // Blue
            { bg: '#2ecc71', text: '#ffffff' },  // Green
            { bg: '#e74c3c', text: '#ffffff' },  // Red
            { bg: '#9b59b6', text: '#ffffff' },  // Purple
            { bg: '#f1c40f', text: '#000000' },  // Yellow
            { bg: '#e67e22', text: '#ffffff' },  // Orange
            { bg: '#1abc9c', text: '#ffffff' },  // Turquoise
            { bg: '#e84393', text: '#ffffff' },  // Pink
            { bg: '#00b894', text: '#ffffff' },  // Mint
            { bg: '#6c5ce7', text: '#ffffff' },  // Light Purple
            { bg: '#fd79a8', text: '#000000' },  // Light Pink
            { bg: '#00cec9', text: '#000000' }   // Blue Green
        ];
        
        // DOM elements
        const projectNameInput = document.getElementById('projectName');
        const projectTechInput = document.getElementById('projectTech');
        const projectDescInput = document.getElementById('projectDesc');
        const bgColorInput = document.getElementById('bgColor');
        const textColorInput = document.getElementById('textColor');
        const generateBtn = document.getElementById('generateBtn');
        const downloadBtn = document.getElementById('downloadBtn');
        const canvas = document.getElementById('previewCanvas');
        const ctx = canvas.getContext('2d');
        const projectsList = document.getElementById('projectsList');
        
        // Initialize the app
        function init() {
            // Set up event listeners
            generateBtn.addEventListener('click', generatePlaceholder);
            downloadBtn.addEventListener('click', downloadImage);
            
            // Populate projects list
            renderProjectsList();
            
            // Generate initial preview
            generatePlaceholder();
        }
        
        // Render projects list
        function renderProjectsList() {
            projectsList.innerHTML = '';
            
            projects.forEach((project, index) => {
                const colorIndex = index % colorPalette.length;
                const color = colorPalette[colorIndex];
                
                const projectEl = document.createElement('div');
                projectEl.className = 'project-item';
                projectEl.innerHTML = `
                    <div class="project-info">
                        <h3>${project.title}</h3>
                        <p>${project.tags.join(', ')}</p>
                    </div>
                    <div class="project-actions">
                        <a href="#" class="generate-project" data-index="${index}">Generate</a>
                        <a href="#" class="set-project" data-index="${index}">Set as Current</a>
                    </div>
                `;
                
                projectsList.appendChild(projectEl);
            });
            
            // Add event listeners to project actions
            document.querySelectorAll('.generate-project').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.preventDefault();
                    const index = parseInt(e.target.dataset.index);
                    generateProjectPlaceholder(index);
                });
            });
            
            document.querySelectorAll('.set-project').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.preventDefault();
                    const index = parseInt(e.target.dataset.index);
                    setProjectAsCurrent(index);
                });
            });
        }
        
        // Set project as current
        function setProjectAsCurrent(index) {
            const project = projects[index];
            const colorIndex = index % colorPalette.length;
            const color = colorPalette[colorIndex];
            
            projectNameInput.value = project.title;
            projectTechInput.value = project.tags.join(', ');
            bgColorInput.value = color.bg;
            textColorInput.value = color.text;
            
            generatePlaceholder();
        }
        
        // Generate project placeholder
        function generateProjectPlaceholder(index) {
            const project = projects[index];
            const colorIndex = index % colorPalette.length;
            const color = colorPalette[colorIndex];
            
            projectNameInput.value = project.title;
            projectTechInput.value = project.tags.join(', ');
            bgColorInput.value = color.bg;
            textColorInput.value = color.text;
            
            generatePlaceholder();
            
            // Trigger download after a short delay
            setTimeout(() => {
                downloadImage(project.id);
            }, 500);
        }
        
        // Generate placeholder image
        function generatePlaceholder() {
            const projectName = projectNameInput.value.trim() || 'Project Name';
            const projectTech = projectTechInput.value.trim() || 'Tech Stack';
            const projectDesc = projectDescInput.value.trim() || 'A brief description of the project goes here.';
            
            // Get colors, with fallbacks
            let bgColor = bgColorInput.value.trim() || '#3498db';
            let textColor = textColorInput.value.trim() || '#ffffff';
            
            // If color is a name, convert to hex
            if (!bgColor.startsWith('#')) {
                const tempEl = document.createElement('div');
                tempEl.style.color = bgColor;
                document.body.appendChild(tempEl);
                const computedColor = window.getComputedStyle(tempEl).color;
                document.body.removeChild(tempEl);
                bgColor = rgbToHex(computedColor);
            }
            
            if (!textColor.startsWith('#')) {
                const tempEl = document.createElement('div');
                tempEl.style.color = textColor;
                document.body.appendChild(tempEl);
                const computedColor = window.getComputedStyle(tempEl).color;
                document.body.removeChild(tempEl);
                textColor = rgbToHex(computedColor);
            }
            
            // Set canvas background
            ctx.fillStyle = bgColor;
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Set text styles
            ctx.fillStyle = textColor;
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            
            // Draw project name
            ctx.font = 'bold 48px Arial';
            wrapText(ctx, projectName, canvas.width / 2, 100, 700, 50);
            
            // Draw tech stack
            ctx.font = '24px Arial';
            wrapText(ctx, projectTech, canvas.width / 2, 200, 700, 30);
            
            // Draw description
            ctx.font = '20px Arial';
            wrapText(ctx, projectDesc, canvas.width / 2, 300, 600, 30);
            
            // Draw watermark
            ctx.globalAlpha = 0.3;
            ctx.font = 'bold 80px Arial';
            ctx.fillText('PREVIEW', canvas.width / 2, canvas.height / 2);
            ctx.globalAlpha = 1.0;
            
            // Update download button
            const filename = projectName.toLowerCase().replace(/[^a-z0-9]+/g, '-').replace(/^-+|-+$/g, '') + '.png';
            downloadBtn.setAttribute('download', filename);
        }
        
        // Helper function to wrap text
        function wrapText(context, text, x, y, maxWidth, lineHeight) {
            const words = text.split(' ');
            let line = '';
            let lineCount = 0;
            const maxLines = 3;
            
            for (let n = 0; n < words.length; n++) {
                const testLine = line + words[n] + ' ';
                const metrics = context.measureText(testLine);
                const testWidth = metrics.width;
                
                if (testWidth > maxWidth && n > 0) {
                    context.fillText(line, x, y);
                    line = words[n] + ' ';
                    y += lineHeight;
                    lineCount++;
                    
                    if (lineCount >= maxLines && n < words.length - 1) {
                        context.fillText(line + '...', x, y);
                        return;
                    }
                } else {
                    line = testLine;
                }
            }
            
            context.fillText(line, x, y);
        }
        
        // Convert RGB to HEX
        function rgbToHex(rgb) {
            // If the color is already in hex format, return it
            if (rgb.startsWith('#')) return rgb;
            
            // Extract the r, g, b values from the rgb string
            const rgbValues = rgb.match(/\d+/g);
            if (!rgbValues || rgbValues.length < 3) return '#000000';
            
            const r = parseInt(rgbValues[0]).toString(16).padStart(2, '0');
            const g = parseInt(rgbValues[1]).toString(16).padStart(2, '0');
            const b = parseInt(rgbValues[2]).toString(16).padStart(2, '0');
            
            return `#${r}${g}${b}`.toUpperCase();
        }
        
        // Download the generated image
        function downloadImage(filename = 'project-placeholder') {
            const link = document.createElement('a');
            link.download = `${filename}.png`;
            link.href = canvas.toDataURL('image/png');
            link.click();
        }
        
        // Initialize the app when the DOM is loaded
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
